"use strict";(self["webpackChunkcool_ore"]=self["webpackChunkcool_ore"]||[]).push([[905],{5270:function(e,l,a){a.r(l),a.d(l,{default:function(){return L}});var t=a(3396),o=a(870),r=a(5039),n=a(1888),s=a(1334),i=a(3601),u=a(9234),d=a(3289),c=a(6836),p=a(165),m=a(9242),f=(a(348),a(7173)),v=a(8302),g=a(2816),_=a(7052),V=a(3185),x=a(8969),h=a(8717),y=a(4870),b=a(320),w=a(131),k=a(9888);const W=(0,b.aZ)({name:"VTextarea",directives:{Intersect:_.Z},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,...(0,v.co)(),...(0,f.hy)()},emits:{"click:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{attrs:a,emit:o,slots:r}=l;const n=(0,h.z)(e,"modelValue"),{isFocused:s,focus:i,blur:u}=(0,x.K)(e),d=(0,t.Fl)((()=>"function"===typeof e.counterValue?e.counterValue(n.value):(n.value||"").toString().length)),c=(0,t.Fl)((()=>a.maxlength?a.maxlength:!e.counter||"number"!==typeof e.counter&&"string"!==typeof e.counter?void 0:e.counter));function p(l,a){var t,o;e.autofocus&&l&&(null==(t=a[0].target)||null==(o=t.focus)||o.call(t))}const _=(0,y.iH)(),b=(0,y.iH)(),W=(0,y.iH)(""),C=(0,y.iH)(),F=(0,t.Fl)((()=>s.value||e.persistentPlaceholder)),U=(0,t.Fl)((()=>e.messages.length?e.messages:F.value||e.persistentHint?e.hint:""));function P(){var e;C.value!==document.activeElement&&(null==(e=C.value)||e.focus());s.value||i()}function T(e){P(),o("click:control",e)}function B(l){l.stopPropagation(),P(),(0,t.Y3)((()=>{n.value="",(0,w.dr)(e["onClick:clear"],l)}))}function H(e){n.value=e.target.value}const S=(0,y.iH)();function D(){e.autoGrow&&(0,t.Y3)((()=>{if(!S.value||!b.value)return;const l=getComputedStyle(S.value),a=getComputedStyle(b.value.$el),t=parseFloat(l.getPropertyValue("--v-field-padding-top"))+parseFloat(l.getPropertyValue("--v-input-padding-top"))+parseFloat(l.getPropertyValue("--v-field-padding-bottom")),o=S.value.scrollHeight,r=parseFloat(l.lineHeight),n=Math.max(parseFloat(e.rows)*r+t,parseFloat(a.getPropertyValue("--v-input-control-height"))),s=parseFloat(e.maxRows)*r+t||1/0;W.value=(0,w.kb)((0,w.uZ)(o??0,n,s))}))}let I;return(0,t.bv)(D),(0,t.YP)(n,D),(0,t.YP)((()=>e.rows),D),(0,t.YP)((()=>e.maxRows),D),(0,t.YP)((()=>e.density),D),(0,t.YP)(S,(e=>{var l;e?(I=new ResizeObserver(D),I.observe(S.value)):null==(l=I)||l.disconnect()})),(0,t.Jd)((()=>{var e;null==(e=I)||e.disconnect()})),(0,k.L)((()=>{const l=!!(r.counter||e.counter||e.counterValue),o=!(!l&&!r.details),[i,V]=(0,w.An)(a),[{modelValue:x,...h}]=(0,v.PE)(e),[y]=(0,f.g8)(e);return(0,t.Wm)(v.q8,(0,t.dG)({ref:_,modelValue:n.value,"onUpdate:modelValue":e=>n.value=e,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},i,h,{focused:s.value,messages:U.value}),{...r,default:l=>{let{isDisabled:a,isDirty:o,isReadonly:i,isValid:d}=l;return(0,t.Wm)(f.hF,(0,t.dG)({ref:b,style:{"--v-textarea-control-height":W.value},"onClick:control":T,"onClick:clear":B,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},y,{active:F.value||o.value,dirty:o.value||e.dirty,focused:s.value,error:!1===d.value}),{...r,default:l=>{let{props:{class:o,...r}}=l;return(0,t.Wm)(t.HY,null,[e.prefix&&(0,t.Wm)("span",{class:"v-text-field__prefix"},[e.prefix]),(0,t.wy)((0,t.Wm)("textarea",(0,t.dG)({ref:C,class:o,value:n.value,onInput:H,autofocus:e.autofocus,readonly:i.value,disabled:a.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:P,onBlur:u},r,V),null),[[(0,t.Q2)("intersect"),{handler:p},null,{once:!0}]]),e.autoGrow&&(0,t.wy)((0,t.Wm)("textarea",{class:[o,"v-textarea__sizer"],"onUpdate:modelValue":e=>n.value=e,ref:S,readonly:!0,"aria-hidden":"true"},null),[[m.nr,n.value]]),e.suffix&&(0,t.Wm)("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:o?a=>{var o;return(0,t.Wm)(t.HY,null,[null==(o=r.details)?void 0:o.call(r,a),l&&(0,t.Wm)(t.HY,null,[(0,t.Wm)("span",null,null),(0,t.Wm)(g._,{active:e.persistentCounter||s.value,value:d.value,max:c.value},r.counter)])])}:void 0})})),(0,V.F)({},_,b,C)}}),C={key:0,class:"profile"},F=(0,t._)("div",{class:"profile__heading"},"Profile",-1),U={class:"profile__form"},P={class:"profile__pic"},T={class:"profile__img"},B=["src","alt"],H={class:"profile__fields"},S={class:"profile__container"},D={class:"profile__cta"};function I(e,l,a,m,f,v){const g=(0,t.up)("SolidBtn");return e.state.templateValidation?((0,t.wg)(),(0,t.iD)("div",C,[F,(0,t._)("form",U,[(0,t._)("div",P,[(0,t.Wm)(o.T,{"x-small":"",class:"profile__file",icon:""},{default:(0,t.w5)((()=>[(0,t.Wm)(d.t,{class:"profile__camera","aria-hidden":"false"},{default:(0,t.w5)((()=>[(0,t.Uk)(" mdi-camera")])),_:1}),(0,t._)("input",{onChange:l[0]||(l[0]=(...l)=>e.selectedFile&&e.selectedFile(...l)),type:"file"},null,32)])),_:1}),(0,t._)("div",T,[(0,t._)("img",{src:e.state.user.userImage,alt:e.state.user.username},null,8,B)])]),(0,t._)("div",H,[(0,t.Wm)(p.hw,{clearable:"",variant:"outlined",label:"Username",modelValue:e.state.user.username,"onUpdate:modelValue":l[1]||(l[1]=l=>e.state.user.username=l),id:"username",type:"text"},null,8,["modelValue"]),(0,t.Wm)(p.hw,{clearable:"",variant:"outlined",label:"First Name",modelValue:e.state.user.firstname,"onUpdate:modelValue":l[2]||(l[2]=l=>e.state.user.firstname=l),id:"firstname",type:"text"},null,8,["modelValue"]),(0,t.Wm)(p.hw,{clearable:"",variant:"outlined",label:"Last Name",modelValue:e.state.user.lastname,"onUpdate:modelValue":l[3]||(l[3]=l=>e.state.user.lastname=l),id:"lastname",type:"text"},null,8,["modelValue"]),(0,t._)("div",S,[(0,t.Wm)(p.hw,{class:"profile__age",clearable:"",variant:"outlined",label:"Age",modelValue:e.state.user.age,"onUpdate:modelValue":l[4]||(l[4]=l=>e.state.user.age=l),id:"age",type:"number"},null,8,["modelValue"]),(0,t.Wm)(c.r,{class:"profile__gender",variant:"outlined",items:["Male","Female","Prefer Not to say"],label:"Gender",modelValue:e.state.user.gender,"onUpdate:modelValue":l[5]||(l[5]=l=>e.state.user.gender=l),id:"gender"},null,8,["modelValue"])]),(0,t.Wm)(c.r,{class:"profile__cvt",variant:"outlined",items:["Protan","Deutan","Tritan","Achromatopsia","Prefer Not to say"],label:"Color Vision Type",modelValue:e.state.user.colorVisionType,"onUpdate:modelValue":l[6]||(l[6]=l=>e.state.user.colorVisionType=l),id:"cvt"},null,8,["modelValue"]),(0,t.Wm)(W,{clearable:"",variant:"outlined",label:"Bio",modelValue:e.state.user.bio,"onUpdate:modelValue":l[7]||(l[7]=l=>e.state.user.bio=l),id:"bio",type:"text"},null,8,["modelValue"]),(0,t._)("div",D,[(0,t.Wm)(g,{onClick:e.handleUpdateDialog,text:"Update Profile"},null,8,["onClick"])])])]),(0,t.Wm)(i.B,{class:"profile__dialog",persistent:"",modelValue:e.state.profile.isUpdateDialog,"onUpdate:modelValue":l[8]||(l[8]=l=>e.state.profile.isUpdateDialog=l)},{default:(0,t.w5)((()=>[(0,t.Wm)(r._,null,{default:(0,t.w5)((()=>[(0,t.Wm)(n.Z,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Do you really want to update your account?")])),_:1}),(0,t.Wm)(s.h,null,{default:(0,t.w5)((()=>[(0,t.Wm)(o.T,{color:"error",onClick:e.handleUpdateDialog},{default:(0,t.w5)((()=>[(0,t.Uk)("Cancel")])),_:1},8,["onClick"]),(0,t.Wm)(u.C),(0,t.Wm)(o.T,{color:"success",onClick:e.updateProfile},{default:(0,t.w5)((()=>[(0,t.Uk)("Update")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])):(0,t.kq)("",!0)}var N=a(65),R=a(2483),Y=a(9729),G=a(5187),Z=(0,t.aZ)({components:{HollowBtn:Y.Z,SolidBtn:G.Z},setup(){const{state:e,commit:l,dispatch:a}=(0,N.oR)(),t=(0,R.yj)();a("generateToken",{routename:t.name});const o=sessionStorage.getItem("id");function r(){console.log("Update Profile"),console.log(e.user.id);const o={id:e.user.id,userImage:e.profile.profileImage,username:e.user.username,firstname:e.user.firstname,lastname:e.user.lastname,age:e.user.age,gender:e.user.gender,colorVisionType:e.user.colorVisionType,bio:e.user.bio};l("profile/updateProfile",o),setTimeout((()=>{a("generateToken",{routename:t.name})}),1e3)}function n(){const a={id:e.user.id,userImage:e.user.userImage,username:e.user.username,firstname:e.user.firstname,lastname:e.user.lastname,age:e.user.age,gender:e.user.gender,colorVisionType:e.user.colorVisionType,bio:e.user.bio};console.log(a),l("profile/handleUpdateDialog")}function s(e){const a=e.target.files[0],t=new FileReader;t.addEventListener("load",(()=>{l("profile/selectedFile",t.result)})),t.readAsDataURL(a)}return l("navigationList/handleAccountList",o),{state:e,updateProfile:r,handleUpdateDialog:n,selectedFile:s}}}),z=a(89);const A=(0,z.Z)(Z,[["render",I]]);var L=A}}]);
//# sourceMappingURL=905.eb1d317c.js.map