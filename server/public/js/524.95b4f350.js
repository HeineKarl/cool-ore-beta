"use strict";(self["webpackChunkcool_ore"]=self["webpackChunkcool_ore"]||[]).push([[524],{5037:function(e,l,a){a.r(l),a.d(l,{default:function(){return L}});var t=a(3396),o=a(870),n=a(11),r=a(1888),i=a(1334),s=a(3601),u=a(9234),d=a(3289),c=a(6836),p=a(165),m=a(9242),f=(a(348),a(7173)),v=a(8302),_=a(2816),g=a(7052),h=a(3185),x=a(8969),V=a(8717),y=a(4870),w=a(320),b=a(131),k=a(9888);const W=(0,w.aZ)({name:"VTextarea",directives:{Intersect:g.Z},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,...(0,v.co)(),...(0,f.hy)()},emits:{"click:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{attrs:a,emit:o,slots:n}=l;const r=(0,V.z)(e,"modelValue"),{isFocused:i,focus:s,blur:u}=(0,x.K)(e),d=(0,t.Fl)((()=>"function"===typeof e.counterValue?e.counterValue(r.value):(r.value||"").toString().length)),c=(0,t.Fl)((()=>a.maxlength?a.maxlength:!e.counter||"number"!==typeof e.counter&&"string"!==typeof e.counter?void 0:e.counter));function p(l,a){var t,o;e.autofocus&&l&&(null==(t=a[0].target)||null==(o=t.focus)||o.call(t))}const g=(0,y.iH)(),w=(0,y.iH)(),W=(0,y.iH)(""),C=(0,y.iH)(),F=(0,t.Fl)((()=>i.value||e.persistentPlaceholder)),U=(0,t.Fl)((()=>e.messages.length?e.messages:F.value||e.persistentHint?e.hint:""));function P(){var e;C.value!==document.activeElement&&(null==(e=C.value)||e.focus());i.value||s()}function B(e){P(),o("click:control",e)}function H(l){l.stopPropagation(),P(),(0,t.Y3)((()=>{r.value="",(0,b.dr)(e["onClick:clear"],l)}))}function S(e){r.value=e.target.value}const D=(0,y.iH)();function N(){e.autoGrow&&(0,t.Y3)((()=>{if(!D.value||!w.value)return;const l=getComputedStyle(D.value),a=getComputedStyle(w.value.$el),t=parseFloat(l.getPropertyValue("--v-field-padding-top"))+parseFloat(l.getPropertyValue("--v-input-padding-top"))+parseFloat(l.getPropertyValue("--v-field-padding-bottom")),o=D.value.scrollHeight,n=parseFloat(l.lineHeight),r=Math.max(parseFloat(e.rows)*n+t,parseFloat(a.getPropertyValue("--v-input-control-height"))),i=parseFloat(e.maxRows)*n+t||1/0;W.value=(0,b.kb)((0,b.uZ)(o??0,r,i))}))}let R;return(0,t.bv)(N),(0,t.YP)(r,N),(0,t.YP)((()=>e.rows),N),(0,t.YP)((()=>e.maxRows),N),(0,t.YP)((()=>e.density),N),(0,t.YP)(D,(e=>{var l;e?(R=new ResizeObserver(N),R.observe(D.value)):null==(l=R)||l.disconnect()})),(0,t.Jd)((()=>{var e;null==(e=R)||e.disconnect()})),(0,k.L)((()=>{const l=!!(n.counter||e.counter||e.counterValue),o=!(!l&&!n.details),[s,h]=(0,b.An)(a),[{modelValue:x,...V}]=(0,v.PE)(e),[y]=(0,f.g8)(e);return(0,t.Wm)(v.q8,(0,t.dG)({ref:g,modelValue:r.value,"onUpdate:modelValue":e=>r.value=e,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},s,V,{focused:i.value,messages:U.value}),{...n,default:l=>{let{isDisabled:a,isDirty:o,isReadonly:s,isValid:d}=l;return(0,t.Wm)(f.hF,(0,t.dG)({ref:w,style:{"--v-textarea-control-height":W.value},"onClick:control":B,"onClick:clear":H,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},y,{active:F.value||o.value,dirty:o.value||e.dirty,focused:i.value,error:!1===d.value}),{...n,default:l=>{let{props:{class:o,...n}}=l;return(0,t.Wm)(t.HY,null,[e.prefix&&(0,t.Wm)("span",{class:"v-text-field__prefix"},[e.prefix]),(0,t.wy)((0,t.Wm)("textarea",(0,t.dG)({ref:C,class:o,value:r.value,onInput:S,autofocus:e.autofocus,readonly:s.value,disabled:a.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:P,onBlur:u},n,h),null),[[(0,t.Q2)("intersect"),{handler:p},null,{once:!0}]]),e.autoGrow&&(0,t.wy)((0,t.Wm)("textarea",{class:[o,"v-textarea__sizer"],"onUpdate:modelValue":e=>r.value=e,ref:D,readonly:!0,"aria-hidden":"true"},null),[[m.nr,r.value]]),e.suffix&&(0,t.Wm)("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:o?a=>{var o;return(0,t.Wm)(t.HY,null,[null==(o=n.details)?void 0:o.call(n,a),l&&(0,t.Wm)(t.HY,null,[(0,t.Wm)("span",null,null),(0,t.Wm)(_._,{active:e.persistentCounter||i.value,value:d.value,max:c.value},n.counter)])])}:void 0})})),(0,h.F)({},g,w,C)}}),C={key:0,class:"profile"},F=(0,t._)("div",{class:"profile__heading"},"Profile",-1),U={class:"profile__form"},P={class:"profile__pic"},B={class:"profile__img"},H=["src","alt"],S={class:"profile__fields"},D={class:"profile__container"},N={class:"profile__cta"};function R(e,l,m,f,v,_){const g=(0,t.up)("SolidBtn");return e.state.templateValidation?((0,t.wg)(),(0,t.iD)("div",C,[F,(0,t._)("form",U,[(0,t._)("div",P,[(0,t.Wm)(o.T,{"x-small":"",class:"profile__file",icon:""},{default:(0,t.w5)((()=>[(0,t.Wm)(d.t,{class:"profile__camera","aria-hidden":"false"},{default:(0,t.w5)((()=>[(0,t.Uk)(" mdi-camera")])),_:1}),(0,t._)("input",{onChange:l[0]||(l[0]=(...l)=>e.selectedFile&&e.selectedFile(...l)),type:"file"},null,32)])),_:1}),(0,t._)("div",B,[(0,t._)("img",{src:e.state.user?.profile_image||e.state.profile?.profile_image||a(1655),alt:e.state.user?.user_name},null,8,H)])]),(0,t._)("div",S,[(0,t.Wm)(p.hw,{clearable:"",variant:"outlined",label:"Username",modelValue:e.state.user.user_name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.state.user.user_name=l),id:"username",type:"text",hint:"12 characters only",maxlength:"12"},null,8,["modelValue"]),(0,t.Wm)(p.hw,{clearable:"",variant:"outlined",label:"First Name",modelValue:e.state.user.first_name,"onUpdate:modelValue":l[2]||(l[2]=l=>e.state.user.first_name=l),id:"firstname",type:"text"},null,8,["modelValue"]),(0,t.Wm)(p.hw,{clearable:"",variant:"outlined",label:"Last Name",modelValue:e.state.user.last_name,"onUpdate:modelValue":l[3]||(l[3]=l=>e.state.user.last_name=l),id:"lastname",type:"text"},null,8,["modelValue"]),(0,t._)("div",D,[(0,t.Wm)(p.hw,{class:"profile__age",clearable:"",variant:"outlined",label:"Age",modelValue:e.state.user.age,"onUpdate:modelValue":l[4]||(l[4]=l=>e.state.user.age=l),id:"age",type:"number"},null,8,["modelValue"]),(0,t.Wm)(c.r,{class:"profile__gender",variant:"outlined",items:["Male","Female","Prefer Not to say"],label:"Gender",modelValue:e.state.user.gender,"onUpdate:modelValue":l[5]||(l[5]=l=>e.state.user.gender=l),id:"gender"},null,8,["modelValue"])]),(0,t.Wm)(c.r,{class:"profile__cvt",variant:"outlined",items:["Normal Vision","Protan","Deutan","Tritan","Achromatopsia","Prefer Not to say"],label:"Color Vision Type",modelValue:e.state.user.vision_type,"onUpdate:modelValue":l[6]||(l[6]=l=>e.state.user.vision_type=l),id:"cvt"},null,8,["modelValue"]),(0,t.Wm)(W,{clearable:"",variant:"outlined",label:"Bio",modelValue:e.state.user.bio,"onUpdate:modelValue":l[7]||(l[7]=l=>e.state.user.bio=l),id:"bio",type:"text"},null,8,["modelValue"]),(0,t._)("div",N,[(0,t.Wm)(g,{onClick:e.handleUpdateDialog,text:"Update Profile"},null,8,["onClick"])])])]),(0,t.Wm)(s.B,{class:"profile__dialog",persistent:"",modelValue:e.state.profile.isUpdateDialog,"onUpdate:modelValue":l[8]||(l[8]=l=>e.state.profile.isUpdateDialog=l),width:"400"},{default:(0,t.w5)((()=>[(0,t.Wm)(n._,null,{default:(0,t.w5)((()=>[(0,t.Wm)(r.Z,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Do you really want to update your account?")])),_:1}),(0,t.Wm)(i.h,null,{default:(0,t.w5)((()=>[(0,t.Wm)(o.T,{color:"error",onClick:e.handleUpdateDialog},{default:(0,t.w5)((()=>[(0,t.Uk)("Cancel")])),_:1},8,["onClick"]),(0,t.Wm)(u.C),(0,t.Wm)(o.T,{color:"success",onClick:e.updateProfile},{default:(0,t.w5)((()=>[(0,t.Uk)("Update")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])):(0,t.kq)("",!0)}a(7658);var Y=a(65),G=a(2483),T=a(9729),Z=a(5187),I=(0,t.aZ)({components:{HollowBtn:T.Z,SolidBtn:Z.Z},setup(){const{state:e,commit:l,dispatch:a}=(0,Y.oR)(),t=(0,G.tv)(),o=((0,G.yj)(),sessionStorage.getItem("id"));function n(){console.log("Update Profile");const o={id:e.user.id,profile_image:e.user.profile_image||e.profile.profile_image,user_name:e.user.user_name,first_name:e.user.first_name,last_name:e.user.last_name,age:e.user.age,gender:e.user.gender,vision_type:e.user.vision_type,bio:e.user.bio};function n(){t.push({name:"home"}),a("generateToken")}l("profile/updateProfile",o),setTimeout(n,3*e.duration)}function r(){l("profile/handleUpdateDialog")}function i(e){const a=e.target.files[0],t=new FileReader;t.addEventListener("load",(()=>{l("profile/selectedFile",t.result)})),t.readAsDataURL(a)}return l("navigationList/handleAccountList",o),{state:e,updateProfile:n,handleUpdateDialog:r,selectedFile:i}}}),z=a(89);const A=(0,z.Z)(I,[["render",R]]);var L=A}}]);
//# sourceMappingURL=524.95b4f350.js.map