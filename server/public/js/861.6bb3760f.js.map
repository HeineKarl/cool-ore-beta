{"version":3,"file":"js/861.6bb3760f.js","mappings":"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","sources":["webpack://cool_ore/./src/views/LoginView.vue","webpack://cool_ore/./src/views/LoginView.vue?5755","webpack://cool_ore/../../../src/components/VForm/VForm.tsx"],"sourcesContent":["<template>\r\n  <div class=\"auth\">\r\n    <v-form class=\"auth__form\" ref=\"form\" @submit.prevent=\"verifyUser\">\r\n      <div class=\"auth__heading\">Login</div>\r\n      <span class=\"auth__reroute\">\r\n        Don't have an account?\r\n        <router-link :to=\"{ name: 'register' }\">Register Now</router-link>\r\n      </span>\r\n\r\n      <div\r\n        v-if=\"$store.state.message\"\r\n        :class=\"$store.state.ok ? 'success' : 'fail'\"\r\n        class=\"auth__field auth__message\"\r\n      >\r\n        <span>{{ $store.state.message }} </span>\r\n      </div>\r\n      <div class=\"auth__fields\">\r\n        <div class=\"auth__field\">\r\n          <v-text-field\r\n            clearable\r\n            variant=\"outlined\"\r\n            label=\"Email\"\r\n            v-model=\"$store.state.email\"\r\n            :rules=\"state.rules\"\r\n            id=\"email\"\r\n            type=\"email\"\r\n          ></v-text-field>\r\n        </div>\r\n        <div class=\"auth__field\">\r\n          <v-text-field\r\n            clearable\r\n            :append-icon=\"state.showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\r\n            :type=\"state.showPassword ? 'text' : 'password'\"\r\n            @click:append=\"showPassword\"\r\n            variant=\"outlined\"\r\n            label=\"Password\"\r\n            v-model=\"$store.state.password\"\r\n            :rules=\"state.rules\"\r\n            id=\"password\"\r\n          ></v-text-field>\r\n        </div>\r\n        <span class=\"auth__reroute\">\r\n          <router-link @click=\"changeUserBoolean\" :to=\"{ name: 'maintenance' }\"\r\n            >Forgot Password?</router-link\r\n          >\r\n        </span>\r\n        <div class=\"auth__field\">\r\n          <v-btn class=\"auth__btn\" variant=\"tonal\" type=\"submit\">Login</v-btn>\r\n        </div>\r\n      </div>\r\n    </v-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent, ref, onMounted } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\n\r\nexport default defineComponent({\r\n  name: \"LoginView\",\r\n\r\n  setup() {\r\n    const { state, commit, dispatch } = useStore();\r\n    const form = ref(null);\r\n\r\n    commit(\"resetForm\");\r\n\r\n    const userId = sessionStorage.getItem(\"id\");\r\n    commit(\"navigationList/handleAccountList\", userId);\r\n\r\n    async function verifyUser() {\r\n      const { valid } = await form.value.validate();\r\n      if (valid) {\r\n        dispatch(\"verifyUser\");\r\n      }\r\n    }\r\n\r\n    function showPassword() {\r\n      commit(\"showPassword\");\r\n    }\r\n\r\n    function changeUserBoolean() {\r\n      commit(\"changeUserBoolean\");\r\n    }\r\n\r\n    return {\r\n      state,\r\n      form,\r\n      verifyUser,\r\n      showPassword,\r\n      changeUserBoolean,\r\n    };\r\n  },\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n// .v-field__field,\r\n// .v-field__overlay,\r\n// .v-input__control {\r\n//   background-color: var(--primary-color);\r\n// }\r\n.auth {\r\n  // For the Navigation Thingy\r\n  margin: var(--header-height) 0 0;\r\n\r\n  &__fields {\r\n    margin-top: 0.5rem;\r\n    @include flex($dir: column, $align: flex-start, $gap: 0.35rem);\r\n  }\r\n\r\n  &__field {\r\n    input {\r\n      @include font(1rem, $weight: 300, $clr: var(--secondary-color));\r\n    }\r\n  }\r\n\r\n  &__field input[type=\"password\"] {\r\n    @include font(1.5rem, $weight: 300, $clr: var(--secondary-color));\r\n  }\r\n\r\n  &__reroute {\r\n    a {\r\n      @include font(0.85rem, $weight: 500, $clr: var(--success-color));\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./LoginView.vue?vue&type=template&id=4ad3cd1d\"\nimport script from \"./LoginView.vue?vue&type=script&lang=js\"\nexport * from \"./LoginView.vue?vue&type=script&lang=js\"\n\nimport \"./LoginView.vue?vue&type=style&index=0&id=4ad3cd1d&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\Vincent\\\\Desktop\\\\Research\\\\cool-ore-beta\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// Composables\nimport { createForm, makeFormProps } from '@/composables/form'\nimport { forwardRefs } from '@/composables/forwardRefs'\n\n// Utilities\nimport { ref } from 'vue'\nimport { defineComponent, useRender } from '@/util'\n\n// Types\nimport type { SubmitEventPromise } from '@/composables/form'\n\nexport const VForm = defineComponent({\n  name: 'VForm',\n\n  props: {\n    ...makeFormProps(),\n  },\n\n  emits: {\n    'update:modelValue': (val: boolean | null) => true,\n    submit: (e: SubmitEventPromise) => true,\n  },\n\n  setup (props, { slots, emit }) {\n    const form = createForm(props)\n    const formRef = ref<HTMLFormElement>()\n\n    function onReset (e: Event) {\n      e.preventDefault()\n      form.reset()\n    }\n\n    function onSubmit (_e: Event) {\n      const e = _e as SubmitEventPromise\n\n      const ready = form.validate()\n      e.then = ready.then.bind(ready)\n      e.catch = ready.catch.bind(ready)\n      e.finally = ready.finally.bind(ready)\n\n      emit('submit', e)\n\n      if (!e.defaultPrevented) {\n        ready.then(({ valid }) => {\n          if (valid) {\n            formRef.value?.submit()\n          }\n        })\n      }\n\n      e.preventDefault()\n    }\n\n    useRender(() => ((\n      <form\n        ref={ formRef }\n        class=\"v-form\"\n        novalidate\n        onReset={ onReset }\n        onSubmit={ onSubmit }\n      >\n        { slots.default?.(form) }\n      </form>\n    )))\n\n    return forwardRefs(form, formRef)\n  },\n})\n\nexport type VForm = InstanceType<typeof VForm>\n"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_createVNode","_component_v_form","ref","onSubmit","_ctx","_hoisted_2","_hoisted_3","_component_router_link","to","name","state","message","ok","_hoisted_4","_hoisted_5","_component_v_text_field","clearable","variant","label","email","rules","id","type","_hoisted_6","showPassword","password","_hoisted_7","onClick","_hoisted_8","_component_v_btn","defineComponent","setup","commit","dispatch","useStore","form","userId","sessionStorage","getItem","async","verifyUser","valid","value","validate","changeUserBoolean","__exports__","render","VForm","props","makeFormProps","emits","val","submit","e","slots","emit","createForm","formRef","onReset","preventDefault","reset","_e","ready","then","bind","catch","finally","defaultPrevented","_ref2","_formRef$value","useRender","default","_slots$default","forwardRefs"],"sourceRoot":""}