"use strict";(self["webpackChunkcool_ore"]=self["webpackChunkcool_ore"]||[]).push([[253],{9238:function(e,l,t){t.r(l),t.d(l,{default:function(){return T}});var a=t(3396),o=t(870),n=t(11),r=t(1888),i=t(1334),s=t(3601),u=t(6422),d=t(9234),c=t(3289),p=t(6836),f=t(165),m=t(9242),v=(t(348),t(7173)),_=t(8302),g=t(2816),h=t(7052),x=t(3185),V=t(8969),y=t(8717),b=t(4870),w=t(320),k=t(131),W=t(9888);const C=(0,w.aZ)({name:"VTextarea",directives:{Intersect:h.Z},inheritAttrs:!1,props:{autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,hint:String,persistentHint:Boolean,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,...(0,_.co)(),...(0,v.hy)()},emits:{"click:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,l){let{attrs:t,emit:o,slots:n}=l;const r=(0,y.z)(e,"modelValue"),{isFocused:i,focus:s,blur:u}=(0,V.K)(e),d=(0,a.Fl)((()=>"function"===typeof e.counterValue?e.counterValue(r.value):(r.value||"").toString().length)),c=(0,a.Fl)((()=>t.maxlength?t.maxlength:!e.counter||"number"!==typeof e.counter&&"string"!==typeof e.counter?void 0:e.counter));function p(l,t){var a,o;e.autofocus&&l&&(null==(a=t[0].target)||null==(o=a.focus)||o.call(a))}const f=(0,b.iH)(),h=(0,b.iH)(),w=(0,b.iH)(""),C=(0,b.iH)(),F=(0,a.Fl)((()=>i.value||e.persistentPlaceholder)),U=(0,a.Fl)((()=>e.messages.length?e.messages:F.value||e.persistentHint?e.hint:""));function P(){var e;C.value!==document.activeElement&&(null==(e=C.value)||e.focus());i.value||s()}function D(e){P(),o("click:control",e)}function H(l){l.stopPropagation(),P(),(0,a.Y3)((()=>{r.value="",(0,k.dr)(e["onClick:clear"],l)}))}function S(e){r.value=e.target.value}const B=(0,b.iH)();function N(){e.autoGrow&&(0,a.Y3)((()=>{if(!B.value||!h.value)return;const l=getComputedStyle(B.value),t=getComputedStyle(h.value.$el),a=parseFloat(l.getPropertyValue("--v-field-padding-top"))+parseFloat(l.getPropertyValue("--v-input-padding-top"))+parseFloat(l.getPropertyValue("--v-field-padding-bottom")),o=B.value.scrollHeight,n=parseFloat(l.lineHeight),r=Math.max(parseFloat(e.rows)*n+a,parseFloat(t.getPropertyValue("--v-input-control-height"))),i=parseFloat(e.maxRows)*n+a||1/0;w.value=(0,k.kb)((0,k.uZ)(o??0,r,i))}))}let R;return(0,a.bv)(N),(0,a.YP)(r,N),(0,a.YP)((()=>e.rows),N),(0,a.YP)((()=>e.maxRows),N),(0,a.YP)((()=>e.density),N),(0,a.YP)(B,(e=>{var l;e?(R=new ResizeObserver(N),R.observe(B.value)):null==(l=R)||l.disconnect()})),(0,a.Jd)((()=>{var e;null==(e=R)||e.disconnect()})),(0,W.L)((()=>{const l=!!(n.counter||e.counter||e.counterValue),o=!(!l&&!n.details),[s,x]=(0,k.An)(t),[{modelValue:V,...y}]=(0,_.PE)(e),[b]=(0,v.g8)(e);return(0,a.Wm)(_.q8,(0,a.dG)({ref:f,modelValue:r.value,"onUpdate:modelValue":e=>r.value=e,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--flush-details":["plain","underlined"].includes(e.variant)}],"onClick:prepend":e["onClick:prepend"],"onClick:append":e["onClick:append"]},s,y,{focused:i.value,messages:U.value}),{...n,default:l=>{let{isDisabled:t,isDirty:o,isReadonly:s,isValid:d}=l;return(0,a.Wm)(v.hF,(0,a.dG)({ref:h,style:{"--v-textarea-control-height":w.value},"onClick:control":D,"onClick:clear":H,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:"textbox"},b,{active:F.value||o.value,dirty:o.value||e.dirty,focused:i.value,error:!1===d.value}),{...n,default:l=>{let{props:{class:o,...n}}=l;return(0,a.Wm)(a.HY,null,[e.prefix&&(0,a.Wm)("span",{class:"v-text-field__prefix"},[e.prefix]),(0,a.wy)((0,a.Wm)("textarea",(0,a.dG)({ref:C,class:o,value:r.value,onInput:S,autofocus:e.autofocus,readonly:s.value,disabled:t.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:P,onBlur:u},n,x),null),[[(0,a.Q2)("intersect"),{handler:p},null,{once:!0}]]),e.autoGrow&&(0,a.wy)((0,a.Wm)("textarea",{class:[o,"v-textarea__sizer"],"onUpdate:modelValue":e=>r.value=e,ref:B,readonly:!0,"aria-hidden":"true"},null),[[m.nr,r.value]]),e.suffix&&(0,a.Wm)("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:o?t=>{var o;return(0,a.Wm)(a.HY,null,[null==(o=n.details)?void 0:o.call(n,t),l&&(0,a.Wm)(a.HY,null,[(0,a.Wm)("span",null,null),(0,a.Wm)(g._,{active:e.persistentCounter||i.value,value:d.value,max:c.value},n.counter)])])}:void 0})})),(0,x.F)({},f,h,C)}}),F={key:0,class:"profile"},U=(0,a._)("div",{class:"profile__heading"},"Profile",-1),P={class:"profile__pic"},D={class:"profile__img"},H=["src","alt"],S={class:"profile__fields"},B={class:"profile__container"},N={class:"profile__cta"};function R(e,l,m,v,_,g){const h=(0,a.up)("SolidBtn");return e.state.templateValidation?((0,a.wg)(),(0,a.iD)("div",F,[U,(0,a.Wm)(u.O,{ref:"form",class:"profile__form"},{default:(0,a.w5)((()=>[(0,a._)("div",P,[(0,a.Wm)(o.T,{"x-small":"",class:"profile__file",icon:""},{default:(0,a.w5)((()=>[(0,a.Wm)(c.t,{class:"profile__camera","aria-hidden":"false"},{default:(0,a.w5)((()=>[(0,a.Uk)(" mdi-camera")])),_:1}),(0,a._)("input",{onChange:l[0]||(l[0]=(...l)=>e.selectedFile&&e.selectedFile(...l)),type:"file"},null,32)])),_:1}),(0,a._)("div",D,[(0,a._)("img",{src:e.state.user?.profile_image||e.state.profile?.profile_image||t(1655),alt:e.state.user?.user_name},null,8,H)])]),(0,a._)("div",S,[(0,a.Wm)(f.hw,{clearable:"",variant:"outlined",label:"Username",modelValue:e.state.user.user_name,"onUpdate:modelValue":l[1]||(l[1]=l=>e.state.user.user_name=l),rules:e.state.rules,id:"username",type:"text",hint:"12 characters only",maxlength:"12"},null,8,["modelValue","rules"]),(0,a.Wm)(f.hw,{clearable:"",variant:"outlined",label:"First Name",modelValue:e.state.user.first_name,"onUpdate:modelValue":l[2]||(l[2]=l=>e.state.user.first_name=l),rules:e.state.rules,id:"firstname",type:"text"},null,8,["modelValue","rules"]),(0,a.Wm)(f.hw,{clearable:"",variant:"outlined",label:"Last Name",modelValue:e.state.user.last_name,"onUpdate:modelValue":l[3]||(l[3]=l=>e.state.user.last_name=l),rules:e.state.rules,id:"lastname",type:"text"},null,8,["modelValue","rules"]),(0,a._)("div",B,[(0,a.Wm)(f.hw,{class:"profile__age",clearable:"",variant:"outlined",label:"Age",modelValue:e.state.user.age,"onUpdate:modelValue":l[4]||(l[4]=l=>e.state.user.age=l),id:"age",type:"number"},null,8,["modelValue"]),(0,a.Wm)(p.r,{class:"profile__gender",variant:"outlined",items:["Male","Female","Prefer Not to say"],label:"Gender",modelValue:e.state.user.gender,"onUpdate:modelValue":l[5]||(l[5]=l=>e.state.user.gender=l),id:"gender"},null,8,["modelValue"])]),(0,a.Wm)(p.r,{class:"profile__cvt",variant:"outlined",items:["Normal Vision","Protan","Deutan","Tritan","Achromatopsia","Red Green Deficient / Undetermined","Prefer Not to say"],label:"Color Vision Type",modelValue:e.state.user.vision_type,"onUpdate:modelValue":l[6]||(l[6]=l=>e.state.user.vision_type=l),id:"cvt"},null,8,["modelValue"]),(0,a.Wm)(C,{clearable:"",variant:"outlined",label:"Bio",modelValue:e.state.user.bio,"onUpdate:modelValue":l[7]||(l[7]=l=>e.state.user.bio=l),id:"bio",type:"text"},null,8,["modelValue"]),(0,a._)("div",N,[(0,a.Wm)(h,{onClick:e.handleUpdateDialog,text:"Update Profile"},null,8,["onClick"])])])])),_:1},512),(0,a.Wm)(s.B,{class:"profile__dialog",persistent:"",modelValue:e.state.profile.isUpdateDialog,"onUpdate:modelValue":l[8]||(l[8]=l=>e.state.profile.isUpdateDialog=l),width:"400"},{default:(0,a.w5)((()=>[(0,a.Wm)(n._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(r.Z,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Do you really want to update your account?")])),_:1}),(0,a.Wm)(i.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(o.T,{color:"error",onClick:e.handleUpdateDialog},{default:(0,a.w5)((()=>[(0,a.Uk)("Cancel")])),_:1},8,["onClick"]),(0,a.Wm)(d.C),(0,a.Wm)(o.T,{color:"success",onClick:e.updateProfile},{default:(0,a.w5)((()=>[(0,a.Uk)("Update")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])):(0,a.kq)("",!0)}t(7658);var G=t(65),Y=t(2483),Z=t(9729),I=t(5187),L=(0,a.aZ)({components:{HollowBtn:Z.Z,SolidBtn:I.Z},setup(){const{state:e,commit:l,dispatch:t}=(0,G.oR)(),a=((0,Y.tv)(),(0,b.iH)(null)),o=sessionStorage.getItem("id");async function n(){const{valid:t}=await a.value.validate();if(!t)return;const o={id:e.user.id,profile_image:e.user.profile_image||e.profile.profile_image,user_name:e.user.user_name,first_name:e.user.first_name,last_name:e.user.last_name,age:e.user.age,gender:e.user.gender,vision_type:e.user.vision_type,bio:e.user.bio};l("profile/updateProfile",o)}function r(){l("profile/handleUpdateDialog")}function i(e){const t=e.target.files[0],a=new FileReader;a.addEventListener("load",(()=>{l("profile/selectedFile",a.result)})),a.readAsDataURL(t)}return l("navigationList/handleAccountList",o),{state:e,form:a,updateProfile:n,handleUpdateDialog:r,selectedFile:i}}}),z=t(89);const A=(0,z.Z)(L,[["render",R]]);var T=A},6422:function(e,l,t){t.d(l,{O:function(){return u}});var a=t(3396),o=t(4357),n=t(3185),r=t(4870),i=t(320),s=t(9888);const u=(0,i.aZ)({name:"VForm",props:{...(0,o.vC)()},emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,l){let{slots:t,emit:i}=l;const u=(0,o.Np)(e),d=(0,r.iH)();function c(e){e.preventDefault(),u.reset()}function p(e){const l=e,t=u.validate();l.then=t.then.bind(t),l.catch=t.catch.bind(t),l.finally=t.finally.bind(t),i("submit",l),l.defaultPrevented||t.then((e=>{let{valid:l}=e;var t;l&&(null==(t=d.value)||t.submit())})),l.preventDefault()}return(0,s.L)((()=>{var e;return(0,a.Wm)("form",{ref:d,class:"v-form",novalidate:!0,onReset:c,onSubmit:p},[null==(e=t.default)?void 0:e.call(t,u)])})),(0,n.F)(u,d)}})}}]);
//# sourceMappingURL=253.cd6fde40.js.map