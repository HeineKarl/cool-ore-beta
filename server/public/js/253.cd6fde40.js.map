{"version":3,"file":"js/253.cd6fde40.js","mappings":"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","sources":["webpack://cool_ore/../../../src/components/VTextarea/VTextarea.tsx","webpack://cool_ore/./src/views/ProfileView.vue","webpack://cool_ore/./src/views/ProfileView.vue?3e49","webpack://cool_ore/../../../src/components/VForm/VForm.tsx"],"sourcesContent":["// Styles\nimport './VTextarea.sass'\nimport '../VTextField/VTextField.sass'\n\n// Components\nimport { filterFieldProps, makeVFieldProps } from '@/components/VField/VField'\nimport { filterInputProps, makeVInputProps, VInput } from '@/components/VInput/VInput'\nimport { VCounter } from '@/components/VCounter'\nimport { VField } from '@/components/VField'\n\n// Directives\nimport Intersect from '@/directives/intersect'\n\n// Composables\nimport { forwardRefs } from '@/composables/forwardRefs'\nimport { useFocus } from '@/composables/focus'\nimport { useProxiedModel } from '@/composables/proxiedModel'\n\n// Utilities\nimport { computed, nextTick, onBeforeUnmount, onMounted, ref, watch } from 'vue'\nimport { callEvent, clamp, convertToUnit, defineComponent, filterInputAttrs, useRender } from '@/util'\n\n// Types\nimport type { PropType } from 'vue'\n\nexport const VTextarea = defineComponent({\n  name: 'VTextarea',\n\n  directives: { Intersect },\n\n  inheritAttrs: false,\n\n  props: {\n    autoGrow: Boolean,\n    autofocus: Boolean,\n    counter: [Boolean, Number, String] as PropType<true | number | string>,\n    counterValue: Function as PropType<(value: any) => number>,\n    hint: String,\n    persistentHint: Boolean,\n    prefix: String,\n    placeholder: String,\n    persistentPlaceholder: Boolean,\n    persistentCounter: Boolean,\n    noResize: Boolean,\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    maxRows: {\n      type: [Number, String],\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    suffix: String,\n\n    ...makeVInputProps(),\n    ...makeVFieldProps(),\n  },\n\n  emits: {\n    'click:control': (e: MouseEvent) => true,\n    'update:focused': (focused: boolean) => true,\n    'update:modelValue': (val: string) => true,\n  },\n\n  setup (props, { attrs, emit, slots }) {\n    const model = useProxiedModel(props, 'modelValue')\n    const { isFocused, focus, blur } = useFocus(props)\n    const counterValue = computed(() => {\n      return typeof props.counterValue === 'function'\n        ? props.counterValue(model.value)\n        : (model.value || '').toString().length\n    })\n    const max = computed(() => {\n      if (attrs.maxlength) return attrs.maxlength as undefined\n\n      if (\n        !props.counter ||\n        (typeof props.counter !== 'number' &&\n        typeof props.counter !== 'string')\n      ) return undefined\n\n      return props.counter\n    })\n\n    function onIntersect (\n      isIntersecting: boolean,\n      entries: IntersectionObserverEntry[]\n    ) {\n      if (!props.autofocus || !isIntersecting) return\n\n      (entries[0].target as HTMLInputElement)?.focus?.()\n    }\n\n    const vInputRef = ref<VInput>()\n    const vFieldRef = ref<VInput>()\n    const controlHeight = ref('')\n    const textareaRef = ref<HTMLInputElement>()\n    const isActive = computed(() => (\n      isFocused.value ||\n      props.persistentPlaceholder\n    ))\n\n    const messages = computed(() => {\n      return props.messages.length\n        ? props.messages\n        : (isActive.value || props.persistentHint) ? props.hint : ''\n    })\n\n    function onFocus () {\n      if (textareaRef.value !== document.activeElement) {\n        textareaRef.value?.focus()\n      }\n\n      if (!isFocused.value) focus()\n    }\n    function onControlClick (e: MouseEvent) {\n      onFocus()\n\n      emit('click:control', e)\n    }\n    function onClear (e: MouseEvent) {\n      e.stopPropagation()\n\n      onFocus()\n\n      nextTick(() => {\n        model.value = ''\n\n        callEvent(props['onClick:clear'], e)\n      })\n    }\n    function onInput (e: Event) {\n      model.value = (e.target as HTMLTextAreaElement).value\n    }\n\n    const sizerRef = ref<HTMLTextAreaElement>()\n    function calculateInputHeight () {\n      if (!props.autoGrow) return\n\n      nextTick(() => {\n        if (!sizerRef.value || !vFieldRef.value) return\n\n        const style = getComputedStyle(sizerRef.value)\n        const fieldStyle = getComputedStyle(vFieldRef.value.$el)\n\n        const padding = parseFloat(style.getPropertyValue('--v-field-padding-top')) +\n          parseFloat(style.getPropertyValue('--v-input-padding-top')) +\n          parseFloat(style.getPropertyValue('--v-field-padding-bottom'))\n\n        const height = sizerRef.value.scrollHeight\n        const lineHeight = parseFloat(style.lineHeight)\n        const minHeight = Math.max(\n          parseFloat(props.rows) * lineHeight + padding,\n          parseFloat(fieldStyle.getPropertyValue('--v-input-control-height'))\n        )\n        const maxHeight = parseFloat(props.maxRows!) * lineHeight + padding || Infinity\n\n        controlHeight.value = convertToUnit(clamp(height ?? 0, minHeight, maxHeight))\n      })\n    }\n\n    onMounted(calculateInputHeight)\n    watch(model, calculateInputHeight)\n    watch(() => props.rows, calculateInputHeight)\n    watch(() => props.maxRows, calculateInputHeight)\n    watch(() => props.density, calculateInputHeight)\n\n    let observer: ResizeObserver | undefined\n    watch(sizerRef, val => {\n      if (val) {\n        observer = new ResizeObserver(calculateInputHeight)\n        observer.observe(sizerRef.value!)\n      } else {\n        observer?.disconnect()\n      }\n    })\n    onBeforeUnmount(() => {\n      observer?.disconnect()\n    })\n\n    useRender(() => {\n      const hasCounter = !!(slots.counter || props.counter || props.counterValue)\n      const hasDetails = !!(hasCounter || slots.details)\n      const [rootAttrs, inputAttrs] = filterInputAttrs(attrs)\n      const [{ modelValue: _, ...inputProps }] = filterInputProps(props)\n      const [fieldProps] = filterFieldProps(props)\n\n      return (\n        <VInput\n          ref={ vInputRef }\n          v-model={ model.value }\n          class={[\n            'v-textarea v-text-field',\n            {\n              'v-textarea--prefixed': props.prefix,\n              'v-textarea--suffixed': props.suffix,\n              'v-text-field--prefixed': props.prefix,\n              'v-text-field--suffixed': props.suffix,\n              'v-textarea--auto-grow': props.autoGrow,\n              'v-textarea--no-resize': props.noResize || props.autoGrow,\n              'v-text-field--flush-details': ['plain', 'underlined'].includes(props.variant),\n            },\n          ]}\n          onClick:prepend={ props['onClick:prepend'] }\n          onClick:append={ props['onClick:append'] }\n          { ...rootAttrs }\n          { ...inputProps }\n          focused={ isFocused.value }\n          messages={ messages.value }\n        >\n          {{\n            ...slots,\n            default: ({\n              isDisabled,\n              isDirty,\n              isReadonly,\n              isValid,\n            }) => (\n              <VField\n                ref={ vFieldRef }\n                style={{\n                  '--v-textarea-control-height': controlHeight.value,\n                }}\n                onClick:control={ onControlClick }\n                onClick:clear={ onClear }\n                onClick:prependInner={ props['onClick:prependInner'] }\n                onClick:appendInner={ props['onClick:appendInner'] }\n                role=\"textbox\"\n                { ...fieldProps }\n                active={ isActive.value || isDirty.value }\n                dirty={ isDirty.value || props.dirty }\n                focused={ isFocused.value }\n                error={ isValid.value === false }\n              >\n                {{\n                  ...slots,\n                  default: ({\n                    props: { class: fieldClass, ...slotProps },\n                  }) => (\n                    <>\n                      { props.prefix && (\n                        <span class=\"v-text-field__prefix\">\n                          { props.prefix }\n                        </span>\n                      ) }\n\n                      <textarea\n                        ref={ textareaRef }\n                        class={ fieldClass }\n                        value={ model.value }\n                        onInput={ onInput }\n                        v-intersect={[{\n                          handler: onIntersect,\n                        }, null, ['once']]}\n                        autofocus={ props.autofocus }\n                        readonly={ isReadonly.value }\n                        disabled={ isDisabled.value }\n                        placeholder={ props.placeholder }\n                        rows={ props.rows }\n                        name={ props.name }\n                        onFocus={ onFocus }\n                        onBlur={ blur }\n                        { ...slotProps }\n                        { ...inputAttrs }\n                      />\n\n                      { props.autoGrow && (\n                        <textarea\n                          class={[\n                            fieldClass,\n                            'v-textarea__sizer',\n                          ]}\n                          v-model={ model.value }\n                          ref={ sizerRef }\n                          readonly\n                          aria-hidden=\"true\"\n                        />\n                      )}\n\n                      { props.suffix && (\n                        <span class=\"v-text-field__suffix\">\n                          { props.suffix }\n                        </span>\n                      ) }\n                    </>\n                  ),\n                }}\n              </VField>\n            ),\n            details: hasDetails ? slotProps => (\n              <>\n                { slots.details?.(slotProps) }\n\n                { hasCounter && (\n                  <>\n                    <span />\n\n                    <VCounter\n                      active={ props.persistentCounter || isFocused.value }\n                      value={ counterValue.value }\n                      max={ max.value }\n                      v-slots={ slots.counter }\n                    />\n                  </>\n                ) }\n              </>\n            ) : undefined,\n          }}\n        </VInput>\n      )\n    })\n\n    return forwardRefs({}, vInputRef, vFieldRef, textareaRef)\n  },\n})\n\nexport type VTextarea = InstanceType<typeof VTextarea>\n","<template >\r\n  <div v-if=\"state.templateValidation\" class=\"profile\">\r\n    <div class=\"profile__heading\">Profile</div>\r\n    <v-form ref=\"form\" class=\"profile__form\">\r\n      <div class=\"profile__pic\">\r\n        <v-btn x-small class=\"profile__file\" icon>\r\n          <v-icon class=\"profile__camera\" aria-hidden=\"false\">\r\n            mdi-camera</v-icon\r\n          >\r\n          <input @change=\"selectedFile\" type=\"file\" />\r\n        </v-btn>\r\n        <div class=\"profile__img\">\r\n          <img\r\n            :src=\"\r\n              state.user?.profile_image ||\r\n              state.profile?.profile_image ||\r\n              require('@/assets/img/default_profile.png')\r\n            \"\r\n            :alt=\"state.user?.user_name\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"profile__fields\">\r\n        <v-text-field\r\n          clearable\r\n          variant=\"outlined\"\r\n          label=\"Username\"\r\n          v-model=\"state.user.user_name\"\r\n          :rules=\"state.rules\"\r\n          id=\"username\"\r\n          type=\"text\"\r\n          hint=\"12 characters only\"\r\n          maxlength=\"12\"\r\n        >\r\n        </v-text-field>\r\n        <v-text-field\r\n          clearable\r\n          variant=\"outlined\"\r\n          label=\"First Name\"\r\n          v-model=\"state.user.first_name\"\r\n          :rules=\"state.rules\"\r\n          id=\"firstname\"\r\n          type=\"text\"\r\n        >\r\n        </v-text-field>\r\n        <v-text-field\r\n          clearable\r\n          variant=\"outlined\"\r\n          label=\"Last Name\"\r\n          v-model=\"state.user.last_name\"\r\n          :rules=\"state.rules\"\r\n          id=\"lastname\"\r\n          type=\"text\"\r\n        >\r\n        </v-text-field>\r\n\r\n        <div class=\"profile__container\">\r\n          <v-text-field\r\n            class=\"profile__age\"\r\n            clearable\r\n            variant=\"outlined\"\r\n            label=\"Age\"\r\n            v-model=\"state.user.age\"\r\n            id=\"age\"\r\n            type=\"number\"\r\n          >\r\n            <!-- :focused=\"!!state.user.age\" -->\r\n          </v-text-field>\r\n\r\n          <v-select\r\n            class=\"profile__gender\"\r\n            variant=\"outlined\"\r\n            :items=\"['Male', 'Female', 'Prefer Not to say']\"\r\n            label=\"Gender\"\r\n            v-model=\"state.user.gender\"\r\n            id=\"gender\"\r\n          >\r\n          </v-select>\r\n        </div>\r\n        <v-select\r\n          class=\"profile__cvt\"\r\n          variant=\"outlined\"\r\n          :items=\"[\r\n            'Normal Vision',\r\n            'Protan',\r\n            'Deutan',\r\n            'Tritan',\r\n            'Achromatopsia',\r\n            'Red Green Deficient / Undetermined',\r\n            'Prefer Not to say',\r\n          ]\"\r\n          label=\"Color Vision Type\"\r\n          v-model=\"state.user.vision_type\"\r\n          id=\"cvt\"\r\n        >\r\n        </v-select>\r\n\r\n        <v-textarea\r\n          clearable\r\n          variant=\"outlined\"\r\n          label=\"Bio\"\r\n          v-model=\"state.user.bio\"\r\n          id=\"bio\"\r\n          type=\"text\"\r\n        >\r\n        </v-textarea>\r\n        <div class=\"profile__cta\">\r\n          <SolidBtn @click=\"handleUpdateDialog\" text=\"Update Profile\" />\r\n        </div>\r\n      </div>\r\n    </v-form>\r\n\r\n    <v-dialog\r\n      class=\"profile__dialog\"\r\n      persistent\r\n      v-model=\"state.profile.isUpdateDialog\"\r\n      width=\"400\"\r\n    >\r\n      <v-card>\r\n        <v-card-text>Do you really want to update your account?</v-card-text>\r\n        <v-card-actions>\r\n          <v-btn color=\"error\" @click=\"handleUpdateDialog\">Cancel</v-btn>\r\n          <v-spacer></v-spacer>\r\n          <v-btn color=\"success\" @click=\"updateProfile\">Update</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nimport { defineComponent, ref } from \"@vue/runtime-core\";\r\nimport { useStore } from \"vuex\";\r\nimport { useRouter, useRoute } from \"vue-router\";\r\n\r\nimport HollowBtn from \"@/components/HollowBtn.vue\";\r\nimport SolidBtn from \"@/components/SolidBtn.vue\";\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    HollowBtn,\r\n    SolidBtn,\r\n  },\r\n  setup() {\r\n    const { state, commit, dispatch } = useStore();\r\n    const router = useRouter();\r\n    const form = ref(null);\r\n\r\n    const userId = sessionStorage.getItem(\"id\");\r\n    commit(\"navigationList/handleAccountList\", userId);\r\n\r\n    // if(route.fullPath)\r\n    // dispatch(\"generateToken\");\r\n\r\n    async function updateProfile() {\r\n      // console.log(\"Update Profile\");\r\n\r\n      const { valid } = await form.value.validate();\r\n      if (!valid) return;\r\n\r\n      const userProfile = {\r\n        id: state.user.id,\r\n        profile_image: state.user.profile_image || state.profile.profile_image,\r\n        user_name: state.user.user_name,\r\n        first_name: state.user.first_name,\r\n        last_name: state.user.last_name,\r\n        age: state.user.age,\r\n        gender: state.user.gender,\r\n        vision_type: state.user.vision_type,\r\n        bio: state.user.bio,\r\n      };\r\n\r\n      commit(\"profile/updateProfile\", userProfile);\r\n\r\n      function updateDelay() {\r\n        router.push({ name: \"home\" });\r\n        dispatch(\"generateToken\");\r\n      }\r\n\r\n      // setTimeout(updateDelay, 3 * state.duration);\r\n    }\r\n\r\n    function handleUpdateDialog() {\r\n      commit(\"profile/handleUpdateDialog\");\r\n    }\r\n\r\n    function selectedFile(e) {\r\n      const file = e.target.files[0];\r\n      const reader = new FileReader();\r\n\r\n      reader.addEventListener(\"load\", () => {\r\n        commit(\"profile/selectedFile\", reader.result);\r\n      });\r\n\r\n      reader.readAsDataURL(file);\r\n    }\r\n\r\n    return {\r\n      state,\r\n      form,\r\n      updateProfile,\r\n      handleUpdateDialog,\r\n      selectedFile,\r\n    };\r\n  },\r\n});\r\n</script>\r\n  \r\n  <style lang=\"scss\">\r\n.v-input,\r\n.profile__container {\r\n  max-width: 40rem;\r\n}\r\n\r\n.profile {\r\n  @include flex($dir: column, $gap: 2rem);\r\n\r\n  // For the Navigation Thingy\r\n  margin: var(--header-height) 0 0;\r\n  padding: 3rem 2rem;\r\n\r\n  &__pic {\r\n    @include position(relative);\r\n    max-width: 12rem;\r\n  }\r\n\r\n  &__file {\r\n    @include position(absolute, $br: true);\r\n    @include flex();\r\n    overflow: hidden;\r\n    z-index: 100;\r\n\r\n    background-color: var(--primary-color);\r\n    color: var(--secondary-color);\r\n\r\n    input {\r\n      position: absolute;\r\n      opacity: 0;\r\n    }\r\n  }\r\n\r\n  &__heading {\r\n    @include font(1.5rem, $weight: 600, $clr: var(--secondary-color));\r\n  }\r\n\r\n  &__form {\r\n    @include flex($dir: column, $gap: 2.5rem);\r\n    width: 100%;\r\n  }\r\n\r\n  &__img {\r\n    @include position(relative);\r\n    --area: 10rem;\r\n    border-radius: 50%;\r\n    overflow: hidden;\r\n    width: var(--area);\r\n    height: var(--area);\r\n\r\n    img {\r\n      pointer-events: none;\r\n    }\r\n  }\r\n\r\n  &__fields {\r\n    // @include flex($dir: column, $gap: 2.5rem);\r\n    display: grid;\r\n    gap: 1rem;\r\n    width: 100%;\r\n  }\r\n\r\n  &__container {\r\n    @include flex($gap: 1rem);\r\n  }\r\n\r\n  &__age {\r\n    width: 2rem;\r\n  }\r\n\r\n  &__gender {\r\n    width: 3rem;\r\n  }\r\n\r\n  &__cta {\r\n    @include flex($gap: 1rem, $justify: flex-start);\r\n  }\r\n}\r\n\r\n@media (min-width: $min-width-tablet) {\r\n  .v-input,\r\n  .profile__container {\r\n    max-width: clamp(25rem, 50vw, 40rem);\r\n  }\r\n\r\n  .profile {\r\n    @include flex($dir: column, $gap: 2rem, $align: flex-start);\r\n    padding: 3rem 2rem 3rem 2rem;\r\n\r\n    &__heading {\r\n      margin-left: 2rem;\r\n    }\r\n\r\n    &__form {\r\n      @include flex(\r\n        $dir: row-reverse,\r\n        $align: flex-start,\r\n        $justify: space-between,\r\n        $gap: 1rem\r\n      );\r\n      padding-right: clamp(2rem, 10vw, 8rem);\r\n      width: 100%;\r\n    }\r\n\r\n    &__img {\r\n      --area: 12rem;\r\n      margin-right: 4rem;\r\n    }\r\n\r\n    &__fields {\r\n      width: 60%;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./ProfileView.vue?vue&type=template&id=21ea6416\"\nimport script from \"./ProfileView.vue?vue&type=script&lang=js\"\nexport * from \"./ProfileView.vue?vue&type=script&lang=js\"\n\nimport \"./ProfileView.vue?vue&type=style&index=0&id=21ea6416&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\Vincent\\\\Desktop\\\\Research\\\\cool-ore-beta\\\\client\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// Composables\nimport { createForm, makeFormProps } from '@/composables/form'\nimport { forwardRefs } from '@/composables/forwardRefs'\n\n// Utilities\nimport { ref } from 'vue'\nimport { defineComponent, useRender } from '@/util'\n\n// Types\nimport type { SubmitEventPromise } from '@/composables/form'\n\nexport const VForm = defineComponent({\n  name: 'VForm',\n\n  props: {\n    ...makeFormProps(),\n  },\n\n  emits: {\n    'update:modelValue': (val: boolean | null) => true,\n    submit: (e: SubmitEventPromise) => true,\n  },\n\n  setup (props, { slots, emit }) {\n    const form = createForm(props)\n    const formRef = ref<HTMLFormElement>()\n\n    function onReset (e: Event) {\n      e.preventDefault()\n      form.reset()\n    }\n\n    function onSubmit (_e: Event) {\n      const e = _e as SubmitEventPromise\n\n      const ready = form.validate()\n      e.then = ready.then.bind(ready)\n      e.catch = ready.catch.bind(ready)\n      e.finally = ready.finally.bind(ready)\n\n      emit('submit', e)\n\n      if (!e.defaultPrevented) {\n        ready.then(({ valid }) => {\n          if (valid) {\n            formRef.value?.submit()\n          }\n        })\n      }\n\n      e.preventDefault()\n    }\n\n    useRender(() => ((\n      <form\n        ref={ formRef }\n        class=\"v-form\"\n        novalidate\n        onReset={ onReset }\n        onSubmit={ onSubmit }\n      >\n        { slots.default?.(form) }\n      </form>\n    )))\n\n    return forwardRefs(form, formRef)\n  },\n})\n\nexport type VForm = InstanceType<typeof VForm>\n"],"names":["VTextarea","defineComponent","name","directives","Intersect","inheritAttrs","props","autoGrow","Boolean","autofocus","counter","Number","String","counterValue","Function","hint","persistentHint","prefix","placeholder","persistentPlaceholder","persistentCounter","noResize","rows","type","default","validator","v","isNaN","parseFloat","maxRows","suffix","makeVInputProps","makeVFieldProps","emits","e","focused","val","setup","attrs","emit","slots","model","useProxiedModel","isFocused","focus","blur","useFocus","computed","value","toString","length","max","maxlength","onIntersect","isIntersecting","entries","target","_entries$0$target","_entries$0$target$foc","vInputRef","ref","vFieldRef","controlHeight","textareaRef","isActive","messages","onFocus","document","activeElement","_textareaRef$value","onControlClick","onClear","stopPropagation","nextTick","callEvent","onInput","sizerRef","calculateInputHeight","style","getComputedStyle","fieldStyle","$el","padding","getPropertyValue","height","scrollHeight","lineHeight","minHeight","Math","maxHeight","Infinity","convertToUnit","clamp","observer","onMounted","watch","density","ResizeObserver","observe","_observer","disconnect","onBeforeUnmount","_observer2","useRender","hasCounter","hasDetails","details","rootAttrs","inputAttrs","filterInputAttrs","modelValue","_","inputProps","filterInputProps","fieldProps","filterFieldProps","includes","variant","_ref2","isDisabled","isDirty","isReadonly","isValid","dirty","_ref3","class","fieldClass","slotProps","handler","once","_slots$details","undefined","forwardRefs","_createElementVNode","_ctx","templateValidation","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_v_form","_hoisted_3","_component_v_btn","icon","_component_v_icon","onChange","_hoisted_4","src","user","profile_image","profile","require","alt","user_name","_hoisted_6","_component_v_text_field","clearable","label","rules","id","first_name","last_name","_hoisted_7","age","_component_v_select","items","gender","vision_type","_component_v_textarea","bio","_hoisted_8","_component_SolidBtn","onClick","text","_component_v_dialog","persistent","isUpdateDialog","width","_component_v_card","_component_v_card_text","_component_v_card_actions","color","_component_v_spacer","components","HollowBtn","SolidBtn","state","commit","dispatch","useStore","form","useRouter","userId","sessionStorage","getItem","async","updateProfile","valid","validate","userProfile","handleUpdateDialog","selectedFile","file","files","reader","FileReader","addEventListener","result","readAsDataURL","__exports__","render","VForm","makeFormProps","submit","createForm","formRef","onReset","preventDefault","reset","onSubmit","_e","ready","then","bind","catch","finally","defaultPrevented","_formRef$value","_slots$default"],"sourceRoot":""}